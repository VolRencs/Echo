[gd_scene load_steps=14 format=3 uid="uid://3w36cuohiy7j"]

[ext_resource type="Texture2D" uid="uid://rn2twt62et04" path="res://Assets/Photo/MainMenu.png" id="1_ihreq"]
[ext_resource type="PackedScene" uid="uid://bqay0w81atqtb" path="res://Assets/Models/Player/Player.tscn" id="2_thj8p"]
[ext_resource type="Script" uid="uid://dh4b3tkg3bxnl" path="res://Scripts/Core/UIRoot.gd" id="3_h8jt7"]
[ext_resource type="Script" uid="uid://tda8lwoyorg6" path="res://Scripts/MainMenu/settings.gd" id="4_sagxc"]
[ext_resource type="Shader" uid="uid://bjr4hnsy2qv6l" path="res://Assets/Shader/Menu.gdshader" id="5_8f6ah"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_xn0nd"]
panorama = ExtResource("1_ihreq")

[sub_resource type="Sky" id="Sky_qouvi"]
sky_material = SubResource("PanoramaSkyMaterial_xn0nd")

[sub_resource type="Environment" id="Environment_q485k"]
background_mode = 2
sky = SubResource("Sky_qouvi")

[sub_resource type="BoxShape3D" id="BoxShape3D_5oy4s"]
size = Vector3(4.9822693, 0.4179077, 2.1541672)

[sub_resource type="BoxMesh" id="BoxMesh_7i6p2"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_q485k"]
bg_color = Color(0.004019165, 0.004019165, 0.004019165, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_bvub4"]
bg_color = Color(0, 0, 0, 0.7019608)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bvub4"]
shader = ExtResource("5_8f6ah")
shader_parameter/blur_size = 2.000000095
shader_parameter/iterations = 6
shader_parameter/opacity = 0.1200000057

[node name="Game" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_q485k")

[node name="Player" parent="." instance=ExtResource("2_thj8p")]
transform = Transform3D(0.99999994, 0, 0, 0, 1, 0, 0, 0, 0.99999994, 0, 0, 0)

[node name="Ground" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.18658447)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(6.83741, 0, 0, 0, 6.83741, 0, 0, 0, 6.83741, -5.140706, -1.8416563, -3.8641095)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.7340637, -0.10613847, 0.49309105)
shape = SubResource("BoxShape3D_5oy4s")
debug_color = Color(0.7033727, 0.33031106, 0.17744806, 0.41960785)

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
transform = Transform3D(4.9951515, 0, 0, 0, 0.41422954, 0, 0, 0, 2.1317356, 0.75276214, -0.10828197, 0.49924394)
mesh = SubResource("BoxMesh_7i6p2")
skeleton = NodePath("")

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.053451404, 0.9985705, 0, -0.9985705, 0.053451404, 0, 4.731264, 0)
light_energy = 5.38
light_indirect_energy = 4.61
light_volumetric_fog_energy = 7.596
light_size = 4.07
spot_range = 12.720451
spot_angle = 62.124638

[node name="CanvasLayer" type="CanvasLayer" parent="." node_paths=PackedStringArray("continue_button", "settings_button", "quit_button", "control_panel")]
process_mode = 3
process_priority = 1
script = ExtResource("3_h8jt7")
continue_button = NodePath("Start")
settings_button = NodePath("Settings")
quit_button = NodePath("Exit")
control_panel = NodePath("Control")

[node name="Start" type="Button" parent="CanvasLayer"]
offset_left = 883.0
offset_top = 353.0
offset_right = 1136.0
offset_bottom = 404.0
text = "Продолжить"

[node name="Settings" type="Button" parent="CanvasLayer"]
offset_left = 883.0
offset_top = 449.0
offset_right = 1136.0
offset_bottom = 500.0
text = "Настройки"

[node name="Exit" type="Button" parent="CanvasLayer"]
offset_left = 886.0
offset_top = 547.0
offset_right = 1139.0
offset_bottom = 598.0
text = "Главное меню"

[node name="Control" type="Control" parent="CanvasLayer" node_paths=PackedStringArray("audio_slider", "sound_slider", "fullscreen_checkbox", "vsync_checkbox", "refresh_rate_option", "close_button")]
process_mode = 3
layout_mode = 3
anchors_preset = 0
offset_right = 81.0
offset_bottom = 76.0
script = ExtResource("4_sagxc")
audio_slider = NodePath("Audio")
sound_slider = NodePath("Sound")
fullscreen_checkbox = NodePath("Window")
vsync_checkbox = NodePath("VSync")
refresh_rate_option = NodePath("Hz")
close_button = NodePath("Button")

[node name="Button" type="Button" parent="CanvasLayer/Control"]
layout_mode = 0
offset_left = 80.0
offset_top = 37.0
offset_right = 240.0
offset_bottom = 93.0
text = "Назад"

[node name="Sound" type="HSlider" parent="CanvasLayer/Control"]
layout_mode = 0
offset_left = 798.0
offset_top = 336.0
offset_right = 1172.0
offset_bottom = 445.0

[node name="Label" type="Label" parent="CanvasLayer/Control/Sound"]
layout_mode = 0
offset_left = 144.0
offset_top = 16.0
offset_right = 230.0
offset_bottom = 44.0
theme_override_colors/font_shadow_color = Color(0.55815613, 0.55815613, 0.55815613, 1)
text = "Музыка"
horizontal_alignment = 1

[node name="Audio" type="HSlider" parent="CanvasLayer/Control"]
layout_mode = 0
offset_left = 798.0
offset_top = 417.0
offset_right = 1172.0
offset_bottom = 526.0

[node name="Label" type="Label" parent="CanvasLayer/Control/Audio"]
layout_mode = 0
offset_left = 144.0
offset_top = 16.0
offset_right = 230.0
offset_bottom = 44.0
theme_override_colors/font_shadow_color = Color(0.55815613, 0.55815613, 0.55815613, 1)
text = "Звуки"
horizontal_alignment = 1

[node name="Window" type="CheckBox" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.021000002
anchor_bottom = 0.037
offset_left = 797.0
offset_top = 496.0
offset_right = 1012.299
offset_bottom = 541.188
text = "Полноэкранный режим"

[node name="VSync" type="CheckBox" parent="CanvasLayer/Control"]
layout_mode = 0
offset_left = 1054.0
offset_top = 504.0
offset_right = 1137.0
offset_bottom = 537.0
text = "VSync"

[node name="Hz" type="OptionButton" parent="CanvasLayer/Control"]
layout_mode = 0
offset_left = 954.0
offset_top = 598.0
offset_right = 1036.0
offset_bottom = 626.0
theme_override_styles/normal = SubResource("StyleBoxFlat_q485k")
theme_override_styles/hover = SubResource("StyleBoxFlat_bvub4")

[node name="Label" type="Label" parent="CanvasLayer/Control/Hz"]
layout_mode = 0
offset_left = -2.0
offset_top = -29.0
offset_right = 84.0
offset_bottom = -1.0
theme_override_colors/font_shadow_color = Color(0.55815613, 0.55815613, 0.55815613, 1)
text = "Hz"
horizontal_alignment = 1

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
z_index = -3
material = SubResource("ShaderMaterial_bvub4")
offset_right = 1925.0
offset_bottom = 1081.0
mouse_filter = 2

[node name="BackBufferCopy" type="BackBufferCopy" parent="CanvasLayer/ColorRect"]
position = Vector2(955, 547.5)
scale = Vector2(9.72, 5.475)
copy_mode = 2
